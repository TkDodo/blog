---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import ballingtImage from "@assets/sponsors/ballingt.jpg";
import monoLisaImage from "@assets/sponsors/monolisa.jpeg";
import reactBricksImage from "@assets/sponsors/reactbricks.svg";
import workflowGenImage from "@assets/sponsors/workflowgen.png";

type Sponsor = {
  name: string;
  url: string;
  image: string | ImageMetadata;
  tier: string;
  imageAlt?: string;
};

const sponsors: Sponsor[] = [
  {
    name: "Tanner Linsley",
    url: "https://tanstack.com/",
    image: "https://avatars.githubusercontent.com/u/5580297?s=400",
    tier: "ğŸ’ Platinum",
  },
  {
    name: "Workleap",
    url: "https://www.workleap.com",
    image: "https://avatars.githubusercontent.com/u/53535748?s=400",
    tier: "ğŸ’ Diamond",
  },
  {
    name: "wevm",
    url: "https://wevm.dev/",
    image: "https://avatars.githubusercontent.com/u/109633172?s=400",
    tier: "ğŸ¥‡ Gold",
  },
  {
    name: "React Bricks",
    url: "https://reactbricks.com/",
    image: reactBricksImage,
    tier: "ğŸ¥‰ Bronze",
  },
  {
    name: "WorkflowGen",
    url: "https://www.workflowgen.com/",
    image: workflowGenImage,
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "Jonas Daniels",
    url: "https://github.com/jnsdls",
    image: "https://avatars.githubusercontent.com/u/8204858?s=400",
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "MonoLisa",
    url: "https://www.monolisa.dev/?ref=dominik",
    image: monoLisaImage,
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "Nadav Lebovitch",
    url: "https://github.com/nadavl",
    image: "https://avatars.githubusercontent.com/u/5332234?s=400",
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "Jeremy Brown",
    url: "https://github.com/jlbmagic",
    image: "https://avatars.githubusercontent.com/u/20194907?s=400",
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "deliver.media",
    url: "https://deliver.media/",
    image: "https://avatars.githubusercontent.com/u/120005519?s=400",
    tier: "ğŸ¥³ Sponsor",
  },
  {
    name: "Matt Sutkowski",
    url: "https://github.com/msutkowski",
    image: "https://avatars.githubusercontent.com/u/784953?s=400",
    tier: "ğŸ— Supporter",
  },
  {
    name: "Thomas Ballinger",
    url: "https://ballingt.com",
    image: ballingtImage,
    tier: "ğŸ— Supporter",
  },
  {
    name: "Robin Wieruch",
    url: "https://www.robinwieruch.de/",
    image: "https://avatars.githubusercontent.com/u/2479967?s=400",
    tier: "ğŸ— Supporter",
  },
  {
    name: "Venue Ink",
    url: "https://www.venue.ink/",
    image: "https://avatars.githubusercontent.com/u/67328248?s=400",
    tier: "ğŸ— Supporter",
  },
  {
    name: "nuqs",
    url: "https://nuqs.dev/",
    image: "https://avatars.githubusercontent.com/u/43356325?s=400",
    imageAlt: "47ng",
    tier: "ğŸª™ Custom",
  },
];
---

<div>
  <a
    href="https://github.com/sponsors/TkDodo"
    target="_blank"
    rel="noreferrer noopener"
    class="text-primary hover:underline"
  >
    <h3 class="text-2xl font-semibold">ğŸ— Sponsor me on Github ğŸ—</h3>
  </a>

  <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-5">
    {
      sponsors.map((sponsor) => (
        <article
          class="w-full max-w-[28rem] lg:max-w-none mx-auto rounded-lg border border-border bg-bg p-4"
        >
          <a
            href={sponsor.url}
            target="_blank"
            rel="noreferrer noopener"
            class="block hover:no-underline"
          >
            <h2 class="text-xl md:text-2xl font-semibold text-text">
              {sponsor.name}
            </h2>
            {typeof sponsor.image === "string" ? (
              <img
                src={sponsor.image}
                alt={sponsor.imageAlt ?? sponsor.name}
                height={300}
                loading="lazy"
                class="mt-3 w-full h-auto rounded-md bg-white"
              />
            ) : (
              <Image
                src={sponsor.image}
                alt={sponsor.imageAlt ?? sponsor.name}
                loading="lazy"
                class="mt-3 w-full h-auto rounded-md bg-white"
              />
            )}
          </a>
          <p class="mt-3 text-subtle">{sponsor.tier}</p>
        </article>
      ))
    }
  </div>
</div>
